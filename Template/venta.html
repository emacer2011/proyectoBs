{% extends "base.html" %}

{% block cabecera %}
    Venta Productos
    <script language="javascript" type="text/javascript" src="/static/js/venta.js"></script>
{% endblock %}

{% block mensaje %}
<div id="mensaje" class="{{estado}}">{{mensaje}}</div>
    <script type="text/javascript">verificarCarga();</script>
{% endblock %}



{% block contenedor %}
    <div id="CabeceraNotaVenta">
        <form class="well" method="POST" onSubmit="return validaVenta()">
            <input id="apellidoPersona" name="apellidoPersona" type="text" class="span3" placeholder="Apellido Cliente">  
            <input id="nombrePersona" name="nombrePersona" type="text" class="span3" placeholder="Nombre Cliente">  
            <br>
            <input id="productos" name="productos" type="hidden">
            <button type="submit" class="btn">Generar Nota Venta</button>
             <label class="span3">TOTAL:</label>
            <label id="total" class="span3" name="total">0</label>
            
        </form> 

    </div>
    
    <div id="CabeceraNVTablas">
        <form class="navbar-search pull-left">
            <input type="text" class="search-query" style="height:27px;margin-left:10px;" placeholder="Producto o Descripción" onKeyUp="buscar(this.value,'Disponibles')" ><br><br>
        </form>
            <table class="table table-striped">
                <thead>
                <tr><th id="ventaProducto-Nombre" class="table-head">Producto</th>
                    <th id="ventaProducto-Descripcion" class="table-head">Descripci&oacuten</th>
                    <th id="ventaProducto-Medida" class="table-head">Medida</th>
                    <th id="ventaProducto-Cantidad" class="table-head">Cantidad</th>
                    <th id="ventaProducto-Precio" class="table-head">Precio</th>
                </tr>    
                </thead>
            </table>
</div>
    
    <div id="CabeceraNVTablas">
        <form class="navbar-search pull-left">
            <input type="text" class="search-query" style="height:27px;margin-left:10px;" placeholder="Producto o Descripción" onKeyUp="buscar(this.value,'Comprometidos')"> <br><br>
        </form>
        <table class="table table-striped">
            <thead>
                <tr><th class="table-headVenta">Producto</th>
                    <th class="table-headVenta">Descripci&oacuten</th>
                    <th class="table-headVenta">Cantidad</th>
                    <th class="table-headVenta">P/Unitario</th>
                    <th class="table-headVenta">Total</th>
                </tr>    
            </thead>
        </table>
    </div>
    
    <div id="SubContenedor">
        <table id="Disponibles" class="table table-striped" border="0" cellspacing="5" cellpadding="5">
            <tbody>
                <tr style="display:none">
                    <td id="ventaProducto-Nombre2"></td>
                    <td id="ventaProducto-Descripcion2"></td>
                    <td id="ventaProducto-Medida2"></td>
                    <td id="ventaProducto-Cantidad2"></td>
                    <td id="ventaProducto-Precio2"></td>
                </tr>
                {% for producto in productos %}
                    <tr onclick="agregarProducto(this);" id="p{{producto.pk}}">
                        <td id="tabla-Nombre">{{producto.getNombre}}</td>
                        <td id="tabla-Descripcion">{{producto.getDescripcion}}</td>
                        <td id="{{producto.pk}}">{{producto.getMedida}}</td>
                        <td id="{{producto.pk}}">{{producto.getCantidad}}</td>
                        <td id="tabla-Precio">{{producto.getPrecio}}</td>
                        <td class="Oculto">{{producto.pk}}</td>
                        <td class="Oculto">{{producto.esFraccionable}}</td>
                        <td class="Oculto">{{producto.obtenerEstrategiaDeVenta.getMedida}}</td>
                        <td class="Oculto">{{producto.obtenerEstrategiaDeVenta.getMinimo}}</td>
                    </tr>                    
                {% endfor %}
            </tbody>
            
        </table>
    </div>
    
    <div id="SubContenedor" style="OVERFLOW: auto">
           <table id="Comprometidos" class="table table-striped" border="0" cellspacing="5" cellpadding="5">
            <tbody>
            </tbody>
            
        </table>
    </div>

    <script type="text/javascript">actualizarTotal();</script>
{% endblock %}